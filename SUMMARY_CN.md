# æ¨¡å‹ä¸æ•°æ®é›†åˆ†ææ€»ç»“

## å¿«é€Ÿæ¦‚è§ˆ

### æ¨¡å‹ä¿¡æ¯
- **æ¨¡å‹æ–‡ä»¶**: `CNN2D_ST_HandPosture_8classes.h5`
- **æ¨¡å‹å¤§å°**: 31 KB
- **æ€»å‚æ•°**: 2,752ä¸ª
- **å‡†ç¡®ç‡**: 99.43%
- **æ¨ç†æ—¶é—´**: 1.5ms @ 84MHz

### ç½‘ç»œç»“æ„
```
è¾“å…¥(8Ã—8Ã—2) â†’ Conv2D(8æ»¤æ³¢å™¨,3Ã—3) â†’ ReLU â†’ MaxPool(2Ã—2) 
â†’ Dropout(20%) â†’ Flatten â†’ Dense(32) â†’ Dense(8,Softmax) â†’ è¾“å‡º
```

### 8ç§æ‰‹åŠ¿ç±»åˆ«
1. **None** (æ— æ‰‹åŠ¿) - 10æ ·æœ¬
2. **FlatHand** (å¹³æ‰‹) - 26æ ·æœ¬
3. **Like** (ç‚¹èµ) - 24æ ·æœ¬
4. **Dislike** (ç‚¹è¸©) - 24æ ·æœ¬
5. **Fist** (æ‹³å¤´) - 35æ ·æœ¬
6. **Love** (çˆ±å¿ƒ) - 15æ ·æœ¬
7. **BreakTime** (ä¼‘æ¯) - 14æ ·æœ¬
8. **CrossHands** (äº¤å‰æ‰‹) - 14æ ·æœ¬

**æ€»æ ·æœ¬æ•°**: 162ä¸ª

## æ•°æ®æ ¼å¼

### è¾“å…¥æ•°æ®
- **ä¼ æ„Ÿå™¨**: VL53L8CX (8Ã—8 ToFé˜µåˆ—)
- **è¾“å…¥å½¢çŠ¶**: (8, 8, 2)
  - é€šé“1: `distance_mm` - è·ç¦»(æ¯«ç±³)
  - é€šé“2: `signal_per_spad` - ä¿¡å·å¼ºåº¦
- **æ•°æ®ç±»å‹**: FLOAT32

### NPZæ–‡ä»¶ç»“æ„
æ¯ä¸ªæ ·æœ¬æ–‡ä»¶åŒ…å«:
- `zone_data`: (4, 64, N) - 4ä¸ªæµ‹é‡ç±»å‹,64ä¸ªzone,Nä¸ªæ—¶é—´å¸§
  - å­—æ®µ: [target_status, valid, **signal_per_spad**, **distance_mm**]
- `start_tstmp`, `end_tstmp`: æ—¶é—´æˆ³
- `glob_data`: å…¨å±€æ•°æ®
- `zone_head`, `glob_head`: å­—æ®µåç§°

### æ•°æ®ç»Ÿè®¡ç¤ºä¾‹

| ç±»åˆ« | å¹³å‡è·ç¦»(mm) | å¹³å‡ä¿¡å·å¼ºåº¦ | æ ·æœ¬æ•° |
|:----:|:------------:|:------------:|:------:|
| FlatHand | 718 | 732 | 26 |
| Fist | 1083 | 247 | 35 |
| Like | 972 | 364 | 24 |

## Arduinoç§»æ¤å…³é”®ç‚¹

### 1. æ•°æ®é¢„å¤„ç†
```cpp
// è·ç¦»å½’ä¸€åŒ–
distance_normalized = (distance_mm - 100) / 300;  // [100, 400] â†’ [0, 1]
distance_normalized = clip(distance_normalized, 0, 1);

// ä¿¡å·å½’ä¸€åŒ–
signal_normalized = min(signal_per_spad / 5000, 1.0);
```

### 2. èµ„æºéœ€æ±‚
- **Flash**: 25 KB (FLOAT32) æˆ– 7 KB (INT8é‡åŒ–)
- **RAM**: 3-8 KB (åŒ…å«Tensor Arena)
- **æ¨ç†æ—¶é—´**: ~1.5 ms

### 3. æ¨¡å‹è½¬æ¢æµç¨‹
```
Keras (.h5) â†’ TensorFlow Lite (.tflite) â†’ Cæ•°ç»„ (.cc)
```

### 4. æ¨èç¡¬ä»¶
- STM32F401RE (84 MHz)
- STM32L4ç³»åˆ—
- Arduino Due
- ESP32-S3

### 5. è¾“å‡ºè§£æ
- 8ä¸ªç±»åˆ«çš„æ¦‚ç‡å€¼ (0-1)
- Softmaxæ¿€æ´»,æ€»å’Œâ‰ˆ1
- é€‰æ‹©æœ€é«˜æ¦‚ç‡ä½œä¸ºè¯†åˆ«ç»“æœ
- å»ºè®®ç½®ä¿¡åº¦é˜ˆå€¼: 0.7

## æ•°æ®å¯è§†åŒ–ç¤ºä¾‹

### FlatHandæ‰‹åŠ¿çš„å•å¸§æ•°æ®

**è·ç¦»å›¾(mm)**:
```
èƒŒæ™¯åŒºåŸŸ: 2000-3000mm (è¿œ)
æ‰‹æŒåŒºåŸŸ: 300-500mm (è¿‘)
```

**ä¿¡å·å¼ºåº¦å›¾**:
```
èƒŒæ™¯åŒºåŸŸ: 10-30 (å¼±)
æ‰‹æŒåŒºåŸŸ: 500-1000+ (å¼º)
```

## å®Œæ•´æ–‡æ¡£

è¯¦ç»†çš„åˆ†ææŠ¥å‘Šã€ä»£ç ç¤ºä¾‹å’Œç§»æ¤æŒ‡å—è¯·å‚è€ƒ:
- ğŸ“„ [MODEL_DATASET_ANALYSIS.md](./MODEL_DATASET_ANALYSIS.md) - å®Œæ•´æŠ€æœ¯æ–‡æ¡£
- ğŸ [analyze_dataset_v2.py](./analyze_dataset_v2.py) - æ•°æ®åˆ†æè„šæœ¬
- ğŸ“Š [analysis_report.txt](./analysis_report.txt) - åŸå§‹åˆ†æè¾“å‡º

## ä¸‹ä¸€æ­¥

1. âœ… æ¨¡å‹å’Œæ•°æ®é›†åˆ†æå®Œæˆ
2. â­ï¸ è½¬æ¢æ¨¡å‹ä¸ºTensorFlow Liteæ ¼å¼
3. â­ï¸ ç”ŸæˆCæ•°ç»„ç”¨äºåµŒå…¥å¼éƒ¨ç½²
4. â­ï¸ åœ¨Arduino/STM32ä¸Šå®ç°æ¨ç†ä»£ç 
5. â­ï¸ é›†æˆVL53L8CXä¼ æ„Ÿå™¨é©±åŠ¨
6. â­ï¸ æµ‹è¯•å’Œä¼˜åŒ–

---

**ç”Ÿæˆæ—¥æœŸ**: 2025-11-23  
**åˆ†æå·¥å…·**: Python 3.10 + TensorFlow 2.8.4
